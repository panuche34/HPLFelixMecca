class fetchUtils{static MethodParamType={FromBody:"FromBody",FromForm:"FromForm",FromQuery:"FromQuery",FromRoute:"FromRoute"};static MethodType={DELETE:"DELETE",GET:"GET",POST:"POST",PUT:"PUT",INSERT:"INSERT"};constructor(){this._token=null;this._divNomesobrenome=document.getElementById("nomesobrenome")}_getDataFormFrom(n,t){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];n.append(i,r)}}_fetchPrepare(n,t,i,r){const f={method:i===undefined?fetchUtils.MethodType.POST:fetchUtils.MethodType[i]};let s="application/json; charset=utf-8",u=null,e="",o=n;switch(r){case fetchUtils.MethodParamType.FromForm:s="application/x-www-form-urlencoded; charset=utf-8";u=new URLSearchParams;this._getDataFormFrom(u,t);f.body=u.toString();break;case fetchUtils.MethodParamType.FromQuery:e=t===undefined?"":Object.keys(t).map(n=>encodeURIComponent(n)+"="+encodeURIComponent(t[n])).join("&");o+=e==""?"":`?${e}`;break;case fetchUtils.MethodParamType.FromRoute:e=Object.keys(t).map(n=>encodeURIComponent(t[n])).join("/");o+=o.endsWith("/")?"":"/";o+=e;break;case fetchUtils.MethodParamType.FromBody:f.body=JSON.stringify(t);break;default:s="";u=new FormData;this._getDataFormFrom(u,t);f.body=u}const h=new Headers;return s!==""&&h.append("Content-Type",s),this._token&&h.append("Authorization","Bearer "+this._token),f.headers=h,{data:f,urlSender:o}}async _fetch(n,t){let i=await fetch(n,t);if(i.status==401&&(location.href="/login"),!i.ok){const n=await i.text();throw new Error(n);}const r=await i.text();return r==null||r==""?null:JSON.parse(r)}async delete(n,t,i,r){const u=this._fetchPrepare(n,t,fetchUtils.MethodType.DELETE,i);return await this._fetch(u.urlSender,u.data,r)}async get(n,t,i,r){if(i===fetchUtils.MethodParamType.FromForm||i===fetchUtils.MethodParamType.FromBody)throw new Error("Get, não pode conter informação no body, ou seja, não funciona para FromForm e FromBody");i===undefined&&(i=fetchUtils.MethodParamType.FromBody);const u=this._fetchPrepare(n,t,fetchUtils.MethodType.GET,i);return await this._fetch(u.urlSender,u.data,r)}async post(n,t,i,r){i===undefined&&(i=fetchUtils.MethodParamType.FromQuery);const u=this._fetchPrepare(n,t,fetchUtils.MethodType.POST,i);return await this._fetch(u.urlSender,u.data,r)}async put(n,t,i,r){const u=this._fetchPrepare(n,t,fetchUtils.MethodType.DELETE,i);return await this._fetch(u.urlSender,u.data,r)}async exMyAjax(){const r=document.getElementById("nome"),u=document.getElementById("sobrenome"),t={nome:r.value,sobrenome:u.value};let n=await this.post("/Home/FromForm/",t,fetchUtils.MethodParamType.FromForm),i=`post/FromForm: ${JSON.stringify(n)}`;n=await this.post("/Home/FromBody/",t,fetchUtils.MethodParamType.FromBody);i+=`<br />post/FromBody: ${JSON.stringify(n)}`;n=await this.post("/Home/FromNoBody/",t);i+=`<br />post/FromNoBody: ${JSON.stringify(n)}`;n=await this.post("/Home/FromQuery/",t,fetchUtils.MethodParamType.FromQuery);i+=`<br />post/FromQuery/: ${JSON.stringify(n)}`;n=await this.post("/Home/FromQuery",t,fetchUtils.MethodParamType.FromQuery);i+=`<br />post/FromQuery: ${JSON.stringify(n)}`;n=await this.post("/Home/FromRoute/",t,fetchUtils.MethodParamType.FromRoute);i+=`<br />post/FromRoute/: ${JSON.stringify(n)}`;n=await this.post("/Home/FromRoute",t,fetchUtils.MethodParamType.FromRoute);i+=`<br />post/FromRoute: ${JSON.stringify(n)}`;n=await this.get("/Home/GetFromForm/",t,fetchUtils.MethodParamType.FromForm);i+=`<br /><br />get/FromForm: ${JSON.stringify(n)}`;n=await this.get("/Home/GetFromBody/",t,fetchUtils.MethodParamType.FromQuery);i+=`<br />get/FromBody: ${JSON.stringify(n)}`;n=await this.get("/Home/GetFromNoBody/",t);i+=`<br />get/FromNoBody: ${JSON.stringify(n)}`;n=await this.get("/Home/GetFromQuery/",t,fetchUtils.MethodParamType.FromQuery);i+=`<br />get/FromQuery/: ${JSON.stringify(n)}`;n=await this.get("/Home/GetFromQuery",t,fetchUtils.MethodParamType.FromQuery);i+=`<br />get/FromQuery: ${JSON.stringify(n)}`;n=await this.get("/Home/GetFromRoute/",t,fetchUtils.MethodParamType.FromRoute);i+=`<br />get/FromRoute/: ${JSON.stringify(n)}`;n=await this.get("/Home/GetFromRoute",t,fetchUtils.MethodParamType.FromRoute);i+=`<br />get/FromRoute: ${JSON.stringify(n)}`;this._divNomesobrenome.innerHTML=i}}var gFetch=new fetchUtils;